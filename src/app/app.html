<div class="container" *ngIf="!showResult">
  <h2>Question {{ currentIndex + 1 }} / {{ questions.length }}</h2>

  <p class="question">
    {{ questions[currentIndex].question }}
  </p>

  <div class="answers">
    <label
      *ngFor="let answer of questions[currentIndex].answers"
      [class.correct]="
        questions[currentIndex].isChecked && answer === questions[currentIndex].correctAnswer
      "
      [class.wrong]="
        questions[currentIndex].isChecked &&
        answer === questions[currentIndex].selectedAnswer &&
        answer !== questions[currentIndex].correctAnswer
      "
    >
      <input
        type="radio"
        name="answer"
        [disabled]="questions[currentIndex].isChecked"
        [checked]="questions[currentIndex].selectedAnswer === answer"
        (change)="selectAnswer(answer)"
      />
      {{ answer }}
    </label>
  </div>

  <button
    class="check-btn"
    [disabled]="!questions[currentIndex].selectedAnswer || questions[currentIndex].isChecked"
    (click)="checkAnswer()"
  >
    Check Answer
  </button>

  <button
    class="next-btn"
    [disabled]="!questions[currentIndex].selectedAnswer"
    (click)="nextQuestion()"
  >
    {{ currentIndex === questions.length - 1 ? 'Finish' : 'Next' }}
  </button>
</div>

<!-- RESULT -->
<div class="container" *ngIf="showResult">
  <h2>Result</h2>

  <h3>Score: {{ score }} / {{ questions.length }}</h3>

  <div *ngFor="let q of questions; let i = index" class="result-item">
    <p>
      <strong>Q{{ i + 1 }}:</strong> {{ q.question }}
    </p>
    <p>
      <strong>Your Answer:</strong>
      <span [class.correct]="q.isCorrect" [class.wrong]="!q.isCorrect">
        {{ q.selectedAnswer }}
      </span>
    </p>
    <p><strong>Correct Answer:</strong> {{ q.correctAnswer }}</p>
    <hr />
  </div>

  <button class="restart-btn" (click)="restartQuiz()">Restart Quiz</button>
</div>
